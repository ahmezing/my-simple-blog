# أسفار - مدونة عربية | Asfar - Arabic Blog Platform

مدونة عربية بسيطة لنشر المقالات القصيرة. تم تطويرها باستخدام Next.js وSupabase.

## التقنيات المستخدمة | Tech Stack

- **Frontend**: Next.js (15.1)
- **Backend**: Next.js API (15.1)
- **Database**: Supabase
- **Styling**: TailwindCSS
- **Server State Management**: TanStack Query (React Query)
- **Form Handling**: React Hook Form + Zod
- **UI Components**: shadcn/ui
- **Testing**: Jest
- **Main Language & Types**: TypeScript

## المميزات | Features

- ✍️ نشر مقالات عربية
- 📚 تصفح وقراءة مقالاتك ومقالات المستخدمين الآخرين 
- 🔍 فرز وتصنيف المقالات (الأحدث، الأقدم، الأطول، الأقصر) والبحث عنها
- ⏱ حساب وقت القراءة المتوقع تلقائياً بشكل دقيق
- 📱 (Responsive) تصميم متجاوب مع جميع الأجهزة

## متطلبات التشغيل | Prerequisites

- Node.js v20 or later
- Supabase account

## التثبيت | Installation

1. Clone the repository:
```bash
git clone https://github.com/ahmezing/my-simple-blog.git
cd my-simple-blog
```

2. Install dependencies:

```bash
npm install
```

3. Create environment file:

```bash
cp .env.example .env
```

4. Update `.env` with your Supabase credentials:

```
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key


#This is for local; change it accordingly for each environment
NEXT_PUBLIC_BASE_URL=http://localhost:3000
```

## إعداد قاعدة البيانات | Database Setup
1. Open Supabase dashboard
2. Navigate to SQL Editor
3. Run the following query to create posts table:
```sql
create table posts (
    id bigint generated by default as identity not null,
    title text null,
    body text null,
    author text null,
    time_to_read bigint null,
    published_date timestamp with time zone not null,
    constraint posts_pkey primary key (id)
);
```

## تشغيل التطبيق | Running the App
Development - Local:
```bash
npm run dev
```
Production:
**You Must remove ```NEXT_PUBLIC_BASE_URL``` from the ```.env``` before you build to production:**
```bash
npm run build
```
**and then deploy. The build will work fine, but you have to add it after the deployment to have the functionalities fully working. on your server**
## الاختبارات | Testing
The application includes a basic test suite covering core functionality:

- Add Post Form Testing
  - Validates reading time calculation
  - Validates Arabic input data

- Post Display Testing
  - Verifies correct post data rendering
  - Validates correct link generation

- Data Validation Testing
  - Validates Arabic text acceptance
  - Verifies character limit constraints

Run tests:
```bash
npm test
```

Run tests with coverage:
```bash
npm run test:coverage
```

**Note**: This is a a very basic and shallow test suite covering some frontend functionality only. More comprehensive testing should be implemented to cover all cases and scenarios.

## النشر | Deployment
Deploy to Vercel:

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com)

Live demo: https://asfar-pi.vercel.app

## الترخيص | License
[MIT License](LICENSE)
